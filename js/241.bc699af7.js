"use strict";(self["webpackChunkminecraft_perf_viewer"]=self["webpackChunkminecraft_perf_viewer"]||[]).push([[241],{66241:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Q});var n=a(83673);const r={class:"row no-wrap"},s={class:"col-grow"},o={class:"col-shrink"};function l(e,t,a,l,u,i){const p=(0,n.up)("ChunkMapComponent"),c=(0,n.up)("ChunkContentsTableVue"),d=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(d,{padding:""},{default:(0,n.w5)((()=>[(0,n._)("div",r,[(0,n._)("div",s,[(0,n.Wm)(p,{"csv-data":e.dataToDisplay},null,8,["csv-data"])]),(0,n._)("div",o,[(0,n.Wm)(c,{"csv-data":e.dataToDisplay},null,8,["csv-data"])])])])),_:1})}const u={ref:"plotContainerRef"};function i(e,t,a,r,s,o){const l=(0,n.up)("q-resize-observer");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(l,{onResize:e.updatePlot},null,8,["onResize"]),(0,n._)("div",u,null,512)],64)}var p=a(96601),c=a(35880),d=a(48825),m=a(61959),v=a(40019);const f=(0,n.aZ)({name:"ChunkMapComponent",props:{csvData:{type:String,required:!0}},setup(e){const t=(0,m.iH)(null),a=(0,d.Z)();function r(){var n,r;if(t.value){const k=(0,p.ueB)(e.csvData);for(var s=[],o=[],l=[],u=[],i=[],d=[],m=0;m<k.length;m++){var f=k[m];"TICKING"==f["visibility"]?(s.push(f["x"]),o.push(f["z"]),l.push(+(null!==(n=f["entity_count"])&&void 0!==n?n:"1"))):(u.push(f["x"]),i.push(f["z"]),d.push(+(null!==(r=f["entity_count"])&&void 0!==r?r:"1")))}var h={x:s,y:o,mode:"markers",type:"scatter",name:"TICKING",text:l.map((e=>`Count: ${e}`)),marker:{size:l}},b={x:u,y:i,mode:"markers",type:"scatter",name:"TRACKED",text:d.map((e=>`Count: ${e}`)),marker:{size:d}},C=[h,b],y={autosize:!0,xaxis:{autorange:!0,scaleanchor:"y",scaleratio:1},yaxis:{autorange:"reversed"},plot_bgcolor:a.dark.isActive?"#121212":"#fff",paper_bgcolor:a.dark.isActive?"#121212":"#fff"};c.react(t.value,C,y).catch((e=>{a.notify({type:"negative",message:"Failed to plot data."}),v.error(e)}))}}return(0,n.bv)((()=>{r()})),{plotContainerRef:t,updatePlot:r}},watch:{csvData(){this.updatePlot()}}});var h=a(74260),b=a(15151),C=a(7518),y=a.n(C);const k=(0,h.Z)(f,[["render",i]]),w=k;function _(e,t,a,r,s,o){const l=(0,n.up)("q-icon"),u=(0,n.up)("q-input"),i=(0,n.up)("q-table");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(i,{title:"Chunk contents",rows:e.rows,columns:e.columns,"row-key":"name",filter:e.filter},{"top-right":(0,n.w5)((()=>[(0,n.Wm)(u,{borderless:"",dense:"",debounce:"300",modelValue:e.filter,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filter=t),placeholder:"Search"},{append:(0,n.w5)((()=>[(0,n.Wm)(l,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["rows","columns","filter"])])}y()(f,"components",{QResizeObserver:b.Z});const g=[{name:"x",label:"Chunk X",field:"x",sortable:!0,sort:(e,t)=>parseInt(e,10)-parseInt(t,10)},{name:"y",label:"Chunk Y",field:"y",sortable:!0,sort:(e,t)=>parseInt(e,10)-parseInt(t,10)},{name:"z",label:"Chunk Z",field:"z",sortable:!0,sort:(e,t)=>parseInt(e,10)-parseInt(t,10)},{name:"visibility",label:"Visibility",field:"visibility",sortable:!0},{name:"load_status",label:"Load status",field:"load_status",sortable:!0,sort:(e,t)=>parseInt(e,10)-parseInt(t,10)},{name:"entity_count",label:"Entity count",field:"entity_count",sortable:!0,sort:(e,t)=>parseInt(e,10)-parseInt(t,10)}],I=(0,n.aZ)({name:"ChunkContentsTable",props:{csvData:{type:String,required:!0}},computed:{rows(){return(0,p.ueB)(this.csvData)}},setup(){const e=(0,m.iH)("");return{columns:g,filter:e}}});var Z=a(49062),D=a(34842),x=a(24554);const z=(0,h.Z)(I,[["render",_]]),T=z;y()(I,"components",{QTable:Z.Z,QInput:D.Z,QIcon:x.Z});var q=a(33954);const V=(0,n.aZ)({name:"ChunkMap",components:{ChunkMapComponent:w,ChunkContentsTableVue:T},setup(){const e=(0,q.useStore)(),t=(0,n.Fl)((()=>e.getters["perfViewer/currentChunkData"]));return{dataToDisplay:t}}});var R=a(24379);const W=(0,h.Z)(V,[["render",l]]),Q=W;y()(V,"components",{QPage:R.Z})}}]);